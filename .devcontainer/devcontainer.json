{
  "name": "Vectra Expert Dev Env",
  "dockerComposeFile": [
    "../docker-compose.yml"
  ],
  "runServices": [
    "vectra-api",
    "vectra-frontend",
    "vectra-worker",
    "vectra-qdrant",
    "vectra-redis",
    "vectra-ollama"
  ],
  "service": "vectra-api",
  "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
  "containerEnv": {
    "ENV": "development",
    "QDRANT_HOST": "vectra-qdrant",
    "QDRANT_API_KEY": "vectra-local-dev-qdrant-key-2026",
    "REDIS_HOST": "vectra-redis",
    "REDIS_PASSWORD": "vectra_redis_2024",
    "DATABASE_URL": "postgresql+asyncpg://vectra:vectra@vectra-postgres:5432/vectra",
    "OLLAMA_BASE_URL": "http://vectra-ollama:11434",
    "OLLAMA_HOST_PORT": "11435"
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",
        "Vue.volar",
        "ms-azuretools.vscode-docker",
        "eamodio.gitlens",
        "dbaeumer.vscode-eslint"
      ],
      "settings": {
        "python.defaultInterpreterPath": "/usr/local/bin/python",
        "editor.formatOnSave": true
      }
    }
  },
  "forwardPorts": [80, 8000, 5050, 6333, 8081, 11435],
  "portsAttributes": {
    "80": {
      "label": "Frontend (Production Build)",
      "onAutoForward": "openBrowser"
    },
    "8000": {
      "label": "Backend API",
      "onAutoForward": "silent"
    },
    "11435": {
      "label": "Ollama API (Codespace Host)",
      "onAutoForward": "silent"
    }
  },
  "postCreateCommand": "docker exec vectra-ollama ollama pull bge-m3 && docker exec vectra-ollama ollama pull mistral && echo 'Vectra is ready! Services started automatically.'",
  "remoteUser": "root"
}
